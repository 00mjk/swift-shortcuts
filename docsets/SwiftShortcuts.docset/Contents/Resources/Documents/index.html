<!DOCTYPE html>
<html lang="en">
  <head>
    <title>SwiftShortcuts  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="SwiftShortcuts  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">SwiftShortcuts Docs</a> (100% documented)</p>
        <p class="header-right"><a href="https://github.com/a2/swift-shortcuts"><img src="img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">SwiftShortcuts Reference</a>
        <img id="carat" src="img/carat.png" />
        SwiftShortcuts  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Core.html">Core</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/Action.html">Action</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/AnyShortcut.html">AnyShortcut</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/EmptyShortcut.html">EmptyShortcut</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ForEach.html">ForEach</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Number.html">Number</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ResultShortcut.html">ResultShortcut</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/SavedOutputShortcut.html">SavedOutputShortcut</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Shortcut.html">Shortcut</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/ShortcutBuilder.html">ShortcutBuilder</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ShortcutGroup.html">ShortcutGroup</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Text.html">Text</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Text/StringInterpolation.html">– StringInterpolation</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/TupleShortcut.html">TupleShortcut</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Shortcuts.html">Shortcuts</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/AskForInput.html">AskForInput</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/BatteryLevel.html">BatteryLevel</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Calculate.html">Calculate</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ChangeCase.html">ChangeCase</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ChooseFromList.html">ChooseFromList</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ChooseFromList/SelectionMode.html">– SelectionMode</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ChooseFromMenu.html">ChooseFromMenu</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Comment.html">Comment</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/CopyToClipboard.html">CopyToClipboard</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/FilterFiles.html">FilterFiles</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/GetClipboard.html">GetClipboard</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/GetContentsOfURL.html">GetContentsOfURL</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/GetDictionary.html">GetDictionary</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/GetType.html">GetType</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/GetURLsFromInput.html">GetURLsFromInput</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/If.html">If</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/List.html">List</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/LogHealthSample.html">LogHealthSample</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/MakeHTMLFromRichText.html">MakeHTMLFromRichText</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Nothing.html">Nothing</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Repeat.html">Repeat</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ReplaceText.html">ReplaceText</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/SetLowPowerMode.html">SetLowPowerMode</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/SetLowPowerMode/Operation.html">– Operation</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/SetVariable.html">SetVariable</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Share.html">Share</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ShowAlert.html">ShowAlert</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ShowResult.html">ShowResult</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/URLEncode.html">URLEncode</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/URLEncode/Operation.html">– Operation</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Calculations.html">Calculations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/Calculation.html">Calculation</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/CalculationOperand.html">CalculationOperand</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/CalculationOperandConvertible.html">CalculationOperandConvertible</a>
              </li>
              <li class="nav-group-task">
                <a href="Calculations.html#/s:14SwiftShortcuts1poiyAA11CalculationOAA0C18OperandConvertible_p_AaE_ptF">+(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Calculations.html#/s:14SwiftShortcuts1soiyAA11CalculationOAA0C18OperandConvertible_p_AaE_ptF">-(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Calculations.html#/s:14SwiftShortcuts1moiyAA11CalculationOAA0C18OperandConvertible_p_AaE_ptF">*(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Calculations.html#/s:14SwiftShortcuts1doiyAA11CalculationOAA0C18OperandConvertible_p_AaE_ptF">/(_:_:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Conditions.html">Conditions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/Condition.html">Condition</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/ConditionNumberOperand.html">ConditionNumberOperand</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/ConditionNumberOperandConvertible.html">ConditionNumberOperandConvertible</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/ConditionOperand.html">ConditionOperand</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/ConditionOperandConvertible.html">ConditionOperandConvertible</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/ConditionTextOperand.html">ConditionTextOperand</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/ConditionTextOperandConvertible.html">ConditionTextOperandConvertible</a>
              </li>
              <li class="nav-group-task">
                <a href="Conditions.html#/s:14SwiftShortcuts2eeoiyAA9ConditionOAA8VariableC_AA0D18OperandConvertible_ptF">==(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Conditions.html#/s:14SwiftShortcuts2neoiyAA9ConditionOAA8VariableC_AA0D18OperandConvertible_ptF">!=(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Conditions.html#/s:14SwiftShortcuts1loiyAA9ConditionOAA8VariableC_AA0C24NumberOperandConvertible_ptF">&lt;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Conditions.html#/s:14SwiftShortcuts2leoiyAA9ConditionOAA8VariableC_AA0D24NumberOperandConvertible_ptF">&lt;=(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Conditions.html#/s:14SwiftShortcuts1goiyAA9ConditionOAA8VariableC_AA0C24NumberOperandConvertible_ptF">&gt;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Conditions.html#/s:14SwiftShortcuts2geoiyAA9ConditionOAA8VariableC_AA0D24NumberOperandConvertible_ptF">&gt;=(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Conditions.html#/s:14SwiftShortcuts2teoiyAA9ConditionOAA8VariableC_SNyAA6NumberVGtF">~=(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Conditions.html#/s:14SwiftShortcuts2teoiyAA9ConditionOAA8VariableC_AA0D24NumberOperandConvertible_p10lowerBound_AaG_p05upperJ0ttF">~=(_:_:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Filtering.html">Filtering</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/ByteCountUnit.html">ByteCountUnit</a>
              </li>
              <li class="nav-group-task">
                <a href="Filtering.html#/s:14SwiftShortcuts18CreationDateFiltera">CreationDateFilter</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/CreationDateProperty.html">CreationDateProperty</a>
              </li>
              <li class="nav-group-task">
                <a href="Filtering.html#/s:14SwiftShortcuts19FileExtensionFiltera">FileExtensionFilter</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/FileExtensionProperty.html">FileExtensionProperty</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/FileFilter.html">FileFilter</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/FileFilterConvertible.html">FileFilterConvertible</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/FileFiltering.html">FileFiltering</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/FileFilterProperty.html">FileFilterProperty</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/FileSize.html">FileSize</a>
              </li>
              <li class="nav-group-task">
                <a href="Filtering.html#/s:14SwiftShortcuts14FileSizeFiltera">FileSizeFilter</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/FileSizeProperty.html">FileSizeProperty</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/FilterSet.html">FilterSet</a>
              </li>
              <li class="nav-group-task">
                <a href="Filtering.html#/s:14SwiftShortcuts22LastModifiedDateFiltera">LastModifiedDateFilter</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/LastModifiedDateProperty.html">LastModifiedDateProperty</a>
              </li>
              <li class="nav-group-task">
                <a href="Filtering.html#/s:14SwiftShortcuts10NameFiltera">NameFilter</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/NameProperty.html">NameProperty</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/SortOrder.html">SortOrder</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/TimeSpanValue.html">TimeSpanValue</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/TimeUnit.html">TimeUnit</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/VariableDateValueConvertible.html">VariableDateValueConvertible</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Health.html">Health</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/HealthMeasurement.html">HealthMeasurement</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/HealthMeasurement.html#/s:14SwiftShortcuts17HealthMeasurementO5CountO">– Count</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/HealthMeasurement.html#/s:14SwiftShortcuts17HealthMeasurementO6LiquidO">– Liquid</a>
              </li>
              <li class="nav-group-task">
                <a href="Health.html#/s:14SwiftShortcuts21HealthMeasurementTypeP">HealthMeasurementType</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/HealthSampleMeasurement.html">HealthSampleMeasurement</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/HealthSampleType.html">HealthSampleType</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/HealthSampleUnit.html">HealthSampleUnit</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Parameters.html">Parameters</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/MenuItem.html">MenuItem</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/TextCase.html">TextCase</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Networking.html">Networking</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/DictionaryValue.html">DictionaryValue</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/HTTPMethod.html">HTTPMethod</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/MultipartFormValue.html">MultipartFormValue</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/RequestBody.html">RequestBody</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Variables.html">Variables</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/Variable.html">Variable</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/VariableValue.html">VariableValue</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/OutputVariable.html">OutputVariable</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Variable-Related.html">Variable-Related</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/CoercionItemClass.html">CoercionItemClass</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/DateFormatStyle.html">DateFormatStyle</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PropertyName.html">PropertyName</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/PropertyUserInfo.html">PropertyUserInfo</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/TimeFormatStyle.html">TimeFormatStyle</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Other%20Extensions.html">Other Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/Date.html">Date</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/Never.html">Never</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/Optional.html">Optional</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/String.html">String</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='swiftshortcuts' class='heading'>SwiftShortcuts</h1>

<p>An iOS 14 Shortcuts creator written in Swift, inspired by SwiftUI.</p>
<h2 id='installation' class='heading'>Installation</h2>

<p>SwiftShortcuts is distributed using the <a href="https://swift.org/package-manager/">Swift Package Manager</a>. To install it into a project, add it as a dependency within your <code>Package.swift</code> manifest:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">package</span> <span class="o">=</span> <span class="kt">Package</span><span class="p">(</span>
    <span class="o">...</span>
    <span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span>
        <span class="o">.</span><span class="nf">package</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="s">"https://github.com/a2/swift-shortcuts.git"</span><span class="p">,</span> <span class="nv">from</span><span class="p">:</span> <span class="s">"1.0.0"</span><span class="p">)</span>
    <span class="p">],</span>
    <span class="o">...</span>
<span class="p">)</span>
</code></pre>

<p>Then import SwiftShortcuts in your project wherever you&rsquo;d like to use it:</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">SwiftShortcuts</span>
</code></pre>
<h2 id='getting-started' class='heading'>Getting Started</h2>

<p>SwiftShorcuts was inspired by SwiftUI and, just as every SwiftUI <code>View</code> is made from other <code>View</code> types, so too is every <code><a href="Protocols/Shortcut.html">Shortcut</a></code> built from other <code><a href="Protocols/Shortcut.html">Shortcut</a></code> types. The only requirement of the <code><a href="Protocols/Shortcut.html">Shortcut</a></code> protocol is an instance property named <code>body</code> whose type is another <code><a href="Protocols/Shortcut.html">Shortcut</a></code>:</p>
<pre class="highlight swift"><code><span class="c1">/// A type that represents a user workflow, or a part of one, in the Shortcuts app.</span>
<span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">Shortcut</span> <span class="p">{</span>
    <span class="c1">/// The type of shortcut representing the body of this shortcut.</span>
    <span class="c1">///</span>
    <span class="c1">/// When you create a custom shortcut, Swift infers this type from your</span>
    <span class="c1">/// implementation of the required `body` property.</span>
    <span class="kd">associatedtype</span> <span class="kt">Body</span><span class="p">:</span> <span class="kt">Shortcut</span>

    <span class="c1">/// The contents of the shortcut.</span>
    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kt">Body</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>To start writing your own shortcut, create a type (such as a <code>struct</code>) that conforms to the Shortcut protocol. At first, return a <code><a href="Structs/Comment.html">Comment</a></code> with some &ldquo;Hello, world!&rdquo; text.</p>
<pre class="highlight swift"><code><span class="c1">// main.swift</span>

<span class="kd">struct</span> <span class="kt">HelloWorldShortcut</span><span class="p">:</span> <span class="kt">Shortcut</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">Shortcut</span> <span class="p">{</span>
        <span class="kt">Comment</span><span class="p">(</span><span class="s">"Hello, world!"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>To create a file that you can import into the Shortcuts app, call the <code>build()</code> function on your shortcut and write the <code>Data</code> to a file.</p>
<pre class="highlight swift"><code><span class="c1">// continued from above</span>

<span class="k">let</span> <span class="nv">shortcut</span> <span class="o">=</span> <span class="kt">HelloWorldShortcut</span><span class="p">()</span>
<span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="k">try</span> <span class="n">shortcut</span><span class="o">.</span><span class="nf">build</span><span class="p">()</span>
<span class="k">try</span> <span class="n">data</span><span class="o">.</span><span class="nf">write</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">fileURLWithPath</span><span class="p">:</span> <span class="s">"Hello World.shortcut"</span><span class="p">))</span>
</code></pre>

<p>Now you can share (for example, via AirDrop) the <em>Hello World.shortcut</em> file to your device and it will open in the Shortcuts app. Unfortunately iOS 13 does not support opening serialized <code>.shortcut</code> files.</p>
<h2 id='examples' class='heading'>Examples</h2>
<h3 id='warn-for-low-battery-level' class='heading'>Warn for Low Battery Level</h3>

<p>Saves the output of <code><a href="Structs/BatteryLevel.html">BatteryLevel</a></code> shortcut to an <code><a href="Structs/OutputVariable.html">OutputVariable</a></code> and later references that value in a <code><a href="Structs/ShowResult.html">ShowResult</a></code> shortcut.</p>
<pre class="highlight swift"><code><span class="c1">// Swift 5.2</span>
<span class="kd">import</span> <span class="kt">SwiftShortcuts</span>

<span class="kd">struct</span> <span class="kt">BatteryLevelShortcut</span><span class="p">:</span> <span class="kt">Shortcut</span> <span class="p">{</span>
    <span class="kd">@OutputVariable</span> <span class="k">var</span> <span class="nv">batteryLevel</span><span class="p">:</span> <span class="kt">Variable</span>

    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">Shortcut</span> <span class="p">{</span>
        <span class="kt">ShortcutGroup</span> <span class="p">{</span>
            <span class="kt">Comment</span><span class="p">(</span><span class="s">"This Shortcut was generated in Swift."</span><span class="p">)</span>
            <span class="kt">BatteryLevel</span><span class="p">()</span>
                <span class="o">.</span><span class="nf">savingOutput</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="err">$</span><span class="n">batteryLevel</span><span class="p">)</span>
            <span class="kt">If</span><span class="p">(</span><span class="n">batteryLevel</span> <span class="o">&lt;</span> <span class="kt">Number</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span> <span class="nv">then</span><span class="p">:</span> <span class="p">{</span>
                <span class="kt">SetLowPowerMode</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
                <span class="kt">ShowResult</span><span class="p">(</span><span class="s">"Your battery level is </span><span class="se">\(</span><span class="n">batteryLevel</span><span class="se">)</span><span class="s">%; you might want to charge soon."</span><span class="p">)</span>
            <span class="p">},</span> <span class="nv">else</span><span class="p">:</span> <span class="p">{</span>
                <span class="kt">ShowResult</span><span class="p">(</span><span class="s">"Your battery level is </span><span class="se">\(</span><span class="n">batteryLevel</span><span class="se">)</span><span class="s">%; you're probably fine for now."</span><span class="p">)</span>
            <span class="p">})</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h3 id='clap-along' class='heading'>Clap Along</h3>

<p>Takes advantage of the <code>usingResult()</code> function to chain shortcut outputs to shortcut inputs.</p>
<pre class="highlight swift"><code><span class="c1">// Swift 5.2</span>
<span class="kd">import</span> <span class="kt">SwiftShortcuts</span>

<span class="kd">struct</span> <span class="kt">ClapAlongShortcut</span><span class="p">:</span> <span class="kt">Shortcut</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">Shortcut</span> <span class="p">{</span>
        <span class="kt">ShortcutGroup</span> <span class="p">{</span>
            <span class="kt">Comment</span><span class="p">(</span><span class="s">"This Shortcut was generated in Swift."</span><span class="p">)</span>
            <span class="kt">AskForInput</span><span class="p">(</span><span class="nv">prompt</span><span class="p">:</span> <span class="s">"WHAT 👏 DO 👏 YOU 👏 WANT 👏 TO 👏 SAY"</span><span class="p">)</span>
                <span class="o">.</span><span class="n">usingResult</span> <span class="p">{</span> <span class="n">providedInput</span> <span class="k">in</span>
                    <span class="kt">ChangeCase</span><span class="p">(</span><span class="nv">variable</span><span class="p">:</span> <span class="n">providedInput</span><span class="p">,</span> <span class="nv">target</span><span class="p">:</span> <span class="o">.</span><span class="nf">value</span><span class="p">(</span><span class="o">.</span><span class="n">uppercase</span><span class="p">))</span>
                <span class="p">}</span>
                <span class="o">.</span><span class="n">usingResult</span> <span class="p">{</span> <span class="n">changedCaseText</span> <span class="k">in</span>
                    <span class="kt">ReplaceText</span><span class="p">(</span><span class="nv">variable</span><span class="p">:</span> <span class="n">changedCaseText</span><span class="p">,</span> <span class="nv">target</span><span class="p">:</span> <span class="s">"[</span><span class="se">\\</span><span class="s">s]"</span><span class="p">,</span> <span class="nv">replacement</span><span class="p">:</span> <span class="s">" 👏 "</span><span class="p">,</span> <span class="nv">isRegularExpression</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
                <span class="p">}</span>
                <span class="o">.</span><span class="n">usingResult</span> <span class="p">{</span> <span class="n">updatedText</span> <span class="k">in</span>
                    <span class="kt">ChooseFromMenu</span><span class="p">(</span><span class="nv">items</span><span class="p">:</span> <span class="p">[</span>
                        <span class="kt">MenuItem</span><span class="p">(</span><span class="nv">label</span><span class="p">:</span> <span class="s">"Share"</span><span class="p">)</span> <span class="p">{</span>
                            <span class="kt">Share</span><span class="p">(</span><span class="nv">input</span><span class="p">:</span> <span class="n">updatedText</span><span class="p">)</span>
                        <span class="p">},</span>
                        <span class="kt">MenuItem</span><span class="p">(</span><span class="nv">label</span><span class="p">:</span> <span class="s">"Copy to Clipboard"</span><span class="p">)</span> <span class="p">{</span>
                            <span class="kt">CopyToClipboard</span><span class="p">(</span><span class="nv">content</span><span class="p">:</span> <span class="n">updatedText</span><span class="p">)</span>
                        <span class="p">},</span>
                    <span class="p">])</span>
                <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h3 id='shorten-with-a-href-https-small-cat-small-cat-a' class='heading'>Shorten with <a href="https://small.cat">small.cat</a></h3>

<p>A more complicated example that temporarily shortens a URL or some text with the small.cat service.</p>
<pre class="highlight swift"><code><span class="c1">// Swift 5.2</span>
<span class="kd">import</span> <span class="kt">SwiftShortcuts</span>

<span class="kd">struct</span> <span class="kt">ShortenWithSmallCatShortcut</span><span class="p">:</span> <span class="kt">Shortcut</span> <span class="p">{</span>
    <span class="kd">@OutputVariable</span> <span class="k">var</span> <span class="nv">url</span><span class="p">:</span> <span class="kt">Variable</span>
    <span class="kd">@OutputVariable</span> <span class="k">var</span> <span class="nv">expiry</span><span class="p">:</span> <span class="kt">Variable</span>

    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">Shortcut</span> <span class="p">{</span>
        <span class="kt">ShortcutGroup</span> <span class="p">{</span>
            <span class="kt">GetType</span><span class="p">(</span><span class="nv">input</span><span class="p">:</span> <span class="o">.</span><span class="n">shortcutInput</span><span class="p">)</span>
                <span class="o">.</span><span class="n">usingResult</span> <span class="p">{</span> <span class="n">type</span> <span class="k">in</span>
                    <span class="kt">If</span><span class="p">(</span><span class="n">type</span> <span class="o">==</span> <span class="s">"URL"</span><span class="p">,</span> <span class="nv">then</span><span class="p">:</span> <span class="p">{</span>
                        <span class="kt">Text</span><span class="p">(</span><span class="s">"</span><span class="se">\(</span><span class="o">.</span><span class="n">shortcutInput</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
                    <span class="p">},</span> <span class="nv">else</span><span class="p">:</span> <span class="p">{</span>
                        <span class="kt">GetClipboard</span><span class="p">()</span>
                    <span class="p">})</span>
                <span class="p">}</span>
                <span class="o">.</span><span class="n">usingResult</span> <span class="p">{</span> <span class="n">ifResult</span> <span class="k">in</span>
                    <span class="kt">URLEncode</span><span class="p">(</span><span class="nv">input</span><span class="p">:</span> <span class="s">"</span><span class="se">\(</span><span class="n">ifResult</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
                <span class="p">}</span>
                <span class="o">.</span><span class="nf">savingOutput</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="err">$</span><span class="n">url</span><span class="p">)</span>

            <span class="kt">ChooseFromMenu</span><span class="p">(</span><span class="nv">prompt</span><span class="p">:</span> <span class="s">"Expires in:"</span><span class="p">,</span> <span class="nv">items</span><span class="p">:</span> <span class="p">[</span>
                    <span class="kt">MenuItem</span><span class="p">(</span><span class="nv">label</span><span class="p">:</span> <span class="s">"10 minutes"</span><span class="p">)</span> <span class="p">{</span>
                        <span class="kt">Text</span><span class="p">(</span><span class="s">"10"</span><span class="p">)</span>
                    <span class="p">},</span>
                    <span class="kt">MenuItem</span><span class="p">(</span><span class="nv">label</span><span class="p">:</span> <span class="s">"1 hour"</span><span class="p">)</span> <span class="p">{</span>
                        <span class="kt">Text</span><span class="p">(</span><span class="s">"60"</span><span class="p">)</span>
                    <span class="p">},</span>
                    <span class="kt">MenuItem</span><span class="p">(</span><span class="nv">label</span><span class="p">:</span> <span class="s">"1 day"</span><span class="p">)</span> <span class="p">{</span>
                        <span class="kt">Text</span><span class="p">(</span><span class="s">"1440"</span><span class="p">)</span>
                    <span class="p">},</span>
                    <span class="kt">MenuItem</span><span class="p">(</span><span class="nv">label</span><span class="p">:</span> <span class="s">"1 week"</span><span class="p">)</span> <span class="p">{</span>
                        <span class="kt">Text</span><span class="p">(</span><span class="s">"10080"</span><span class="p">)</span>
                    <span class="p">},</span>
                <span class="p">])</span>
                <span class="o">.</span><span class="nf">savingOutput</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="err">$</span><span class="n">expiry</span><span class="p">)</span>

            <span class="kt">GetContentsOfURL</span><span class="p">(</span><span class="nv">method</span><span class="p">:</span> <span class="o">.</span><span class="kt">POST</span><span class="p">,</span> <span class="nv">url</span><span class="p">:</span> <span class="s">"https://small.cat/entries"</span><span class="p">,</span> <span class="nv">body</span><span class="p">:</span> <span class="o">.</span><span class="nf">form</span><span class="p">([</span>
                <span class="s">"entry[duration]"</span><span class="p">:</span> <span class="s">"</span><span class="se">\(</span><span class="n">expiry</span><span class="se">)</span><span class="s">"</span><span class="p">,</span>
                <span class="s">"entry[value]"</span><span class="p">:</span> <span class="s">"</span><span class="se">\(</span><span class="n">url</span><span class="se">)</span><span class="s">"</span><span class="p">,</span>
                <span class="s">"utf8"</span><span class="p">:</span> <span class="s">"✓"</span><span class="p">,</span>
            <span class="p">]))</span><span class="o">.</span><span class="n">usingResult</span> <span class="p">{</span> <span class="n">contents</span> <span class="k">in</span>
                <span class="kt">GetURLsFromInput</span><span class="p">(</span><span class="nv">input</span><span class="p">:</span> <span class="s">"</span><span class="se">\(</span><span class="n">contents</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
            <span class="p">}</span><span class="o">.</span><span class="n">usingResult</span> <span class="p">{</span> <span class="n">urls</span> <span class="k">in</span>
                <span class="kt">FilterFiles</span><span class="p">(</span><span class="nv">input</span><span class="p">:</span> <span class="n">urls</span><span class="p">,</span> <span class="nv">filters</span><span class="p">:</span> <span class="o">.</span><span class="nf">all</span><span class="p">([</span>
                    <span class="kt">NameFilter</span><span class="p">(</span><span class="nv">beginsWith</span><span class="p">:</span> <span class="s">"http://small.cat/"</span><span class="p">),</span>
                    <span class="kt">NameFilter</span><span class="p">(</span><span class="nv">isNot</span><span class="p">:</span> <span class="s">"http://small.cat/"</span><span class="p">),</span>
                <span class="p">]),</span> <span class="nv">limit</span><span class="p">:</span> <span class="mi">1</span><span class="p">)</span>
            <span class="p">}</span><span class="o">.</span><span class="n">usingResult</span> <span class="p">{</span> <span class="n">url</span> <span class="k">in</span>
                <span class="kt">ChooseFromMenu</span><span class="p">(</span><span class="nv">items</span><span class="p">:</span> <span class="p">[</span>
                    <span class="kt">MenuItem</span><span class="p">(</span><span class="nv">label</span><span class="p">:</span> <span class="s">"Copy"</span><span class="p">)</span> <span class="p">{</span>
                        <span class="kt">CopyToClipboard</span><span class="p">(</span><span class="nv">content</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span>
                    <span class="p">},</span>
                    <span class="kt">MenuItem</span><span class="p">(</span><span class="nv">label</span><span class="p">:</span> <span class="s">"Share"</span><span class="p">)</span> <span class="p">{</span>
                        <span class="kt">Share</span><span class="p">(</span><span class="nv">input</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span>
                    <span class="p">},</span>
                    <span class="kt">MenuItem</span><span class="p">(</span><span class="nv">label</span><span class="p">:</span> <span class="s">"Show"</span><span class="p">)</span> <span class="p">{</span>
                        <span class="kt">ShowAlert</span><span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"Small.cat"</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"</span><span class="se">\(</span><span class="n">url</span><span class="se">)</span><span class="s">"</span><span class="p">,</span> <span class="nv">showsCancelButton</span><span class="p">:</span> <span class="kc">false</span><span class="p">)</span>
                    <span class="p">},</span>
                <span class="p">])</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h2 id='design-and-goals' class='heading'>Design and Goals</h2>

<p>SwiftShortcuts began as the similarly named <a href="https://github.com/a2/shortcuts-swift">ShortcutsSwift</a> and was originally inspired by <a href="https://github.com/joshfarrant/shortcuts-js">Shortcuts JS</a>. Both SwiftShortcuts, and ShortcutsSwift before it, aimed to be in Swift what Shortcuts JS is for JavaScript.</p>

<p>The goal of this iteration of SwiftShortcuts is to make writing Shortcuts app workflows in Swift as easy as composing <code>View</code>s in SwiftUI. As you can see <a href="#getting-started">above</a>, even the base <code><a href="Protocols/Shortcut.html">Shortcut</a></code> protocol is heavily inspired by SwiftUI&rsquo;s <code>View</code> protocol.</p>

<p>This repository does not contain every possible Shortcuts-supported action or every possible permutation of parametres for those shortcuts. Please feel free to <a href="#contributions-and-support">contribute</a> missing shortcut types and even test cases.</p>
<h2 id='license' class='heading'>License</h2>

<p>SwiftShortcuts is available under the MIT license. See the <a href="LICENSE">LICENSE</a> file for more info.</p>
<h2 id='contributions-and-support' class='heading'>Contributions and Support</h2>

<p><em>Inspired by the support model behind <a href="https://github.com/JohnSundell/Publish">Publish</a>.</em></p>

<p>SwiftShortcuts is developed completely in the open, and your contributions are more than welcome.</p>

<p>This project does not come with GitHub Issues-based support, and users are instead encouraged to become active participants in its continued development — by fixing any bugs that they encounter, or by improving the documentation wherever it&rsquo;s found to be lacking.</p>

<p>If you wish to make a change, <a href="https://github.com/a2/swift-shortcuts/pull/new">open a Pull Request</a> — even if it just contains a draft of the changes you&rsquo;re planning, or a test that reproduces an issue — and we can discuss it further from there.</p>

<p>Hope you&rsquo;ll enjoy using SwiftShortcuts!</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2020 <a class="link" href="https://a2.io" target="_blank" rel="external">Alexsander Akers</a>. All rights reserved. (Last updated: 2020-07-03)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.4</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
